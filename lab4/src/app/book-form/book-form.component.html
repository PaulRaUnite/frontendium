<div>
  <form (ngSubmit)="onSubmit()" #bookForm="ngForm">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" class="form-control" id="title" [(ngModel)]="model.title" name="title" #title="ngModel" appForbiddenTitle
             required>
      <div *ngIf="title.invalid && (title.dirty || title.touched)"
           class="alert alert-danger">

        <div *ngIf="title.errors.required">
          Title is required.
        </div>
        <div *ngIf="title.errors.forbiddenTitle">
          Title cannot have a lower case first letter, got `{{title.value}}`.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="author">Author</label>
      <input type="text" class="form-control" id="author" [(ngModel)]="model.author" name="author" #author="ngModel" required>
      <div [hidden]="author.valid || author.pristine"
           class="alert alert-danger">
        Author is required
      </div>
    </div>
    <div class="form-group">
      <label for="year">Year</label>
      <input type="number" step="1" class="form-control" id="year" [(ngModel)]="model.year" name="year" #year="ngModel" required>
      <div [hidden]="year.valid || year.pristine"
           class="alert alert-danger">
        Year is required
      </div>
    </div>
    <button type="submit" class="btn btn-success" [disabled]="!bookForm.form.valid">Submit</button>
  </form>
</div>
